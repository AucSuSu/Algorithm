# 공유 자원 관리를 위해 상호 배제를 달성하는 기법: 뮤텍스, 세마포어
동시성 프로그래밍에서는 '공유 자원 관리'가 가장 중요<br>
➡️ 자원은 한 번에 한 프로세스만 사용할 수 있어야 하는 <b>상호배제(Mutual exclusion)</b>을 달성하는 기법이 필요<br>
➡️ <b> 뮤텍스, 세마포어 </b>는 서로 다른 방식으로 상호 배제를 달성
<br>
<br>
# :ribbon: Mutex(뮤텍스)
: <b>key</b>에 해당하는 어떤 오브젝트가 있으며 이 오브젝트(=key)를 <b>소유한 스레드/프로세스만이 공유 자원에 접근 가능</b>
<br>
## 과정
1. 1번 프로세스가 자원에 접근하기 위해 key 점유<br>
   -> 1번 프로세스가 key를 점유하여 공유자원 사용
2. 2번 프로세스도 공유 자원을 사용하고 싶음<br>
  -> key가 없기 때문에 key 점유를 위해 <b>대기</b>
3. 3번 프로세스도 공유 자원을 사용하고 싶음<br>
  -> key가 없기 때문에 key 점유를 위해 2번 프로세스 다음 순서로 <b>대기</b>
4. 1번 프로세스가 공유자원을 다 사용하고 key 반환
5. 2번 프로세스가 대기하고 있다가 반환된 key를 점유하여 공유자원 사용
6. 2번 프로세스의 key 점유가 끝나면 3번 프로세스가 key를 점유하여 공유자원 사용 후 반환

<br>

# :ribbon: Semaphore(세마포어)
: 공유자원에 접근할 수 있는 <b>최대 허용치만큼</b> 동시 사용자(스레드, 프로세스) 접근을 허용

## 과정
1. 공유 자원에 대한 최대 허용치 정의(일단 동시 사용자 허용치를 3으로 정의)
2. 1번 프로세스가 공유자원에 접근 -> 허용치 2로 감소
3. 2번 프로세스가 공유자원에 접근 -> 허용치 1로 감소
4. 3번 프로세스가 공유자원에 접근 -> 허용치 0으로 감소
5. 4번 프로세스가 공유자원에 접근 -> 허용치 0이므로 <b>대기</b>
6. 2번 프로세스가 공유자원을 다 사용하여 떠남 -> 허용치 1로 증가
7. 대기 중인 4번 프로세스가 공유자원에 접근 -> 허용치 0으로 감소
<br>

# :round_pushpin: References
- [https://worthpreading.tistory.com/90](https://worthpreading.tistory.com/90)
- 현대 오토에버 면접에서 뮤텍스, 세마포어 꽤 물어본 걸로 알고 있습니당 ㅎ ㅎ
