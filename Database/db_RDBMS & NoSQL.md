## RDBMS & NoSQL

> ### DB

데이터베이스 DB란 => 데이터의 집합

데이터베이스가 등장하기 이전에는 파일 시스템을 사용해서 데이터를 관리

파일 시스템을 이용하면  파일 단위로 저장할때 데이터 종속성 문제와 중복성, 데이터 무결성 문제가 존재하기 때문에 

이런 문제점을 해결 해주는 데이터베이스가 등장

DB에는 다양한 유형이 존재

- **계층형 DB**

  - 계층형 DB(Hierarchical DB)는 처음 등장한 DB의 개념

  - 트리(tree) 형태로 구성되어 있기 때문에 처음 구성해 놓으면 이를 변경하기가 까다로움
  - 또 다른 데이터를 찾아가는 것이 비효율적이기 때문에 지금은 사용하지 않음

- **망형 DB**

  - 망형 DB(Network DB)는 계층형 DB의 문제점을 개선하기 위해 등장

  - 계층형과 다르게 데이터끼리도 연결된 유연한 구조

  - 프로그래머가 모든 구조를 이해해야만 프로그램 작성이 가능하다는 단점 때문에 계층형과 마찬가지로 지금은 거의 사용하지 않고 있습니다.

- **관계형 DB**

  - 일반적인 관계형 데이터베이스(RDB)는 테이블, 행, 열의 정보를 구조화하는 방식
  - RDB는 테이블(table)이라는 최소 단위로 구성되며, 이 테이블은 하나 이상의 열(column)과 행(row)으로 이루어져 있음

  - 관계형 데이터베이스에는 테이블을 조인하여 정보 간 관계 또는 링크를 설정할 수 있는 기능이 있어, 여러 데이터 포인트 간의 관계를 쉽게 이해하고 정보를 얻을 수 있음

<br/>

> ### DBMS

데이터베이스를 **‘데이터의 집합’** 이라고 정의한다면, 

이런 데이터베이스를 **관리하고 운영하는 소프트웨어**를 DBMS(Database Management System)

<br/>

> ### RDBMS

DBMS 앞에 R ( Relational ) 이 추가되어 **관계형 데이터베이스 관리 시스템**

RDBMS는 RDB를 관리하는 시스템이며 RDB는 관계형 데이터 모델을 기초로 두고 모든 데이터를 2차원 테이블 형태로 표현하는 데이터베이스

 즉, 관계형 데이터베이스를 생성하고 수정, 삭제 관리할 수 있는 소프트웨어라고 정의

관계형 데이터베이스(RDMBS)에서는 이러한 관계를 나타내기 위해 **외래 키(foreign key)**라는 것을 사용

이러한 테이블간의 관계에서 외래 키를 이용한 테이블 간 Join이 가능하다는 게 RDBMS의 가장 큰 특징

- **RDBMS의 장점**
  - 스키마가 명확하게 정의되어 있다.
  - 데이터 무결성을 보장한다.
  - 각 데이터를 중복 없이 한 번만 저장한다.

- **RDBMS의 단점**
  - 유연성이 떨어져 데이터 스키마를 사전에 계획해야 하므로 추후 수정이 어렵다.
  - 관계를 맺고 있어서 조인문이 많은 복잡한 쿼리가 만들어질 수 있다.
  - 대체로 수직적 확장만 가능하다.

<br/>

> ### SQL

관계형 데이터베이스 관리 시스템의 데이터를 관리하기 위해 설계된 특수 목적의 프로그래밍 언어로 **"구조적 질의 언어"**

SQL을 사용하여 RDBMS에서 데이터를 **검색(SELECT) , 저장(INSERT), 수정(UPDATE), 삭제(DELETE)** 등이 가능

<br/>

> ### NoSQL (Not Only SQL)

NoSQL은 비관계형 데이터베이스로 SQL, 즉, **관계형 데이터베이스를 제외한 나머지 유형**

NoSQL 데이터베이스는 테이블 형식이 아니며, **관계형 테이블과는 다른 방식**으로 데이터를 저장

데이터 유형에 따라 다양한 유형을 갖추고 있으며, 주요 유형으로는 **문서, 키 값, 와이드 컬럼, 그래프** 등이 있음

NoSQL이라고 해서 꼭 **스키마가 없는 것은 아님**

유연한 스키마를 제공하며, 대량의 데이터와 높은 사용자 부하에서도 손쉽게 확장할 수 있다는 점이 큰 장점



### NoSQL 저장 기술

**1. Key-Value Database**

- **데이터가 Key와 Value에 접근하는 구조**
- 단순한 저장구조를 가지며, 복잡한 조회 연산을 지원하지 않음
- Key 값은 어떠한 형태의 데이터라도 담을 수 있다. 이미지나 비디오도 가능
- 또한 간단한 API를 제공하는 만큼 질의의 속도가 굉장히 빠른 편이
- 대표적인 Model로는 Redis, Riak, Amazon Dynamo DB 등이 있음

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbbXQ7T%2Fbtr1XPQucTl%2FnkH7tmWhZKxPmlHY0T95UK%2Fimg.png)

**2. Document Database**

- **Key/Value 즉 1번의 확장된 형태**로, value에 Document라는 타입을 저장한다. Document는 구조화된 문서 데이터(XML, Json,Yaml 등)을 말한다.
- 복잡한 데이터 구조를 표현가능하다.
- 주요한 특징으로는 객체-관계 매핑이 필요하지 않다. 객체를 Document의 형태로 바로 저장 가능하기 떄문이다.
- 단점이라면 사용이 번거롭고 쿼리가 SQL과 다르다. 도큐먼트 모델에서는 질의의 결과가 JSON이나 XML 형태로 출력되기 때문에 그 사용 방법이 RDBMS에서의 질의 결과를 사용하는 방법과 다르다.
- 대표적인 Model로는 MongoDB, CouthDB 등이 있다.



![img](https://blog.kakaocdn.net/dn/byD6W9/btr1XyuFSbt/23AUE5BkLes965xEfUnmYk/img.png)

**3. Wide Column Database**

- 이전의 모델들이 Key-Value 값을 이용해 필드를 결정했다면, 특이하게도 이 모델은 키에서 필드를 결정한다. 
- 키는 Row(키 값)와 Column-family, Column-name을 가진다. 
- 연관된 데이터들은 같은 Column-family 안에 속해 있으며, 각자의 Column-name을 가진다. 
- 관계형 모델로 설명하자면 어트리뷰트가 계층적인 구조를 가지고 있는 셈이다. 
- 이렇게 저장된 데이터는 하나의 커다란 테이블로 표현이 가능하며, 질의는 Row, Column-family, Column-name을 통해 수행된다. 
- 대표적인 Model로는 HBase, Hypertable 등이 있다.



![img](https://blog.kakaocdn.net/dn/cdSceO/btr2GKudvRe/mkeK4wrN1rjRcwJc2fcKS1/img.png)



**4. Graph Database**

- Graph Model에서는 데이터를 Node와 Edge, Porperty와 함께 그래프 구조를 사용하여 데아터를 표현하고 저장하는 Database이다.
- 개채와 관계를 그래프 형태로 표현한 것이므로 관계형 모델이라고 할 수 있으며, 데이터 간의 관계가 탐색의 키일 경우에 적합하다.
- 페이스북이나 트위터 같은 소셜 네트워크에서(내 친구의 친구를 찾는 질의 등) 적합하고, 연관된 데이터를 추천해주는 추천 엔진이나 패턴 인식 등의 데이터베이스로도 적합하다.
- 대표 Model로는 Neo4J가 있다.



![img](https://blog.kakaocdn.net/dn/bTtuGZ/btr2CvLJDUB/9RJDWyG0plaeqmSlFqsQ71/img.webp)

<br/>

> ### RDBMS vs NoSQL

![](https://www.whatap.io/ko/blog/173/img/blog_main2.jpg)

#### **RDBMS**

- **장점**
  - 정해진 스키마에 따라 데이터를 저장하여야 하므로 명확한 데이터 구조를 보장한다.
  - 또한 각 데이터를 중복 없이 한 번만 저장할 수 있다.

- **단점**
  - 테이블간 관계를 맺고 있어 시스템이 커질 경우 JOIN문이 많은 복잡한 쿼리가 만들어질 수 있다.
  - 성능 향상을 위해서는 Scale-up만을 지원한다. 이로 인해 비용이 기하급수적으로 늘어날 수 있다.
  - 스키마로 인해 데이터가 유연하지 못하다. 나중에 스키마가 변경될 경우 번거롭고 어렵다.



#### **NoSQL**

- **장점**
  - 스키마가 없기 때문에 유연하며 자유로운 데이터 구조를 가질 수 있다.
  - 언제든 저장된 데이터를 조정하고 새로운 필드를 추가할 수 있다.
  - 데이터 분산이 용이하며 성능 향상을 위한 Scale-up 뿐만이 아닌 Scale-out 또한 가능하다

- **단점**
  - 데이터 중복이 발생할 수 있으며 중복된 데이터가 변경될 경우 수정을 모든 컬렉션에서 수행해야 한다.
  - 스키마가 존재하지 않기에 명확한 데이터 구조를 보장하지 않으며 데이터 구조 결정하기가 어려울 수 있다.



#### 관계형 데이터베이스(RDBMS)를 사용해야 할 때

- 데이터베이스의 ACID 성질을 준수해야 하는 소프트웨어를 개발하는 경우
  ACID란 Atomicity(원자성), Consistency(일관성), Isolation(격리성), Durability(지속성)의 약어로, 데이터베이스에서 실행되는 하나의 트랜잭션(Transaction)에 의한 상태의 변화를 수행하는 과정에서, 안전성을 보장하기 위해 필요한 성질을 뜻합니다.
- 관계를 맺고 있는 데이터가 자주 변경되는 애플리케이션의 경우
- 변경될 여지가 없고 명확한 스키마가 사용자와 데이터에게 중요한 경우

#### NoSQL 데이터베이스를 사용해야 할 때

- 정확한 데이터의 구조를 알 수 없거나 변경, 확장될 가능성이 있는 경우
- 읽기는 자주 해도 데이터 변경은 자주 없는 경우
- 막대한 양의 데이터를 다뤄야 해서 데이터베이스를 수평으로 확장해야 하는 경우

<br/>

> ### 참고 자료

https://woo0doo.tistory.com/19

https://www.whatap.io/ko/blog/173/

https://hstory0208.tistory.com/entry/RDBMS%EC%99%80-NoSQL%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90-%EB%B0%8F-%EA%B0%9C%EB%85%90-%EC%99%84%EB%B2%BD-%EC%A0%95%EB%A6%AC

https://hstory0208.tistory.com/20

https://velog.io/@dirn0568/%EA%B4%80%EA%B3%84%ED%98%95-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4RDB%EB%9E%80
